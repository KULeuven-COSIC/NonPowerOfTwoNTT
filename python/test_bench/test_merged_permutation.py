perm = [[]]*3
fp = [[]]*3
perm[0] = [1, 256, 241, 16, 64, 193, 4, 253, 249, 8, 128, 129, 2, 255, 225, 32, 136, 121, 137, 120, 223, 34, 30, 227, 197, 60, 189, 68, 15, 242, 17, 240, 81, 176, 246, 11, 44, 213, 67, 190, 123, 134, 88, 169, 162, 95, 235, 22, 222, 35, 46, 211, 73, 184, 117, 140, 23, 234, 146, 111, 187, 70, 92, 165, 9, 248, 113, 144, 62, 195, 36, 221, 185, 72, 124, 133, 18, 239, 226, 31, 196, 61, 205, 52, 208, 49, 13, 244, 231, 26, 159, 98, 135, 122, 153, 104, 215, 42, 158, 99, 139, 118, 89, 168, 79, 178, 21, 236, 173, 84, 59, 198, 199, 58, 157, 100, 143, 114, 25, 232, 207, 50, 29, 228, 141, 116, 57, 200, 3, 254, 209, 48, 192, 65, 12, 245, 233, 24, 127, 130, 6, 251, 161, 96, 151, 106, 154, 103, 155, 102, 90, 167, 77, 180, 53, 204, 45, 212, 51, 206, 243, 14, 224, 33, 132, 125, 201, 56, 112, 145, 7, 250, 229, 28, 191, 66, 152, 105, 138, 119, 219, 38, 94, 163, 69, 188, 181, 76, 47, 210, 19, 238, 27, 230, 82, 175, 186, 71, 108, 149, 41, 216, 115, 142, 54, 203, 164, 93, 74, 183, 101, 156, 110, 147, 39, 218, 179, 78, 220, 37, 148, 109, 202, 55, 131, 126, 217, 40, 160, 97, 10, 247, 237, 20, 63, 194, 5, 252, 177, 80, 83, 174, 214, 43, 172, 85, 75, 182, 107, 150, 87, 170, 166, 91, 171, 86]
fp[0] = [0]
perm[1] = [35, 50, 30, 55, 60, 25, 15, 70, 20, 65, 5, 80, 10, 75, 45, 40, 1, 16, 81, 21, 26, 76, 66, 36, 71, 31, 56, 46, 61, 41, 11, 6, 52, 67, 47, 72, 77, 42, 32, 2, 37, 82, 22, 12, 27, 7, 62, 57, 18, 33, 13, 38, 43, 8, 83, 53, 3, 48, 73, 63, 78, 58, 28, 23, 69, 84, 64, 4, 9, 59, 49, 19, 54, 14, 39, 29, 44, 24, 79, 74]
fp[1] = [0, 51, 17, 68, 34]
perm[2] = [3, 82, 41, 44, 38, 32, 76, 79, 73, 67, 26, 29, 23, 65, 74, 27, 21, 15, 24, 62, 56, 50, 59, 12, 6, 13, 9, 47, 54, 48, 7, 45, 4, 83, 42, 80, 39, 33, 77, 30, 37, 31, 75, 78, 72, 66, 25, 28, 22, 16, 60, 63, 57, 64, 10, 61, 55, 14, 58, 11, 5, 49, 8, 46, 40, 84, 43, 81]
fp[2] = [0, 35, 70, 20, 68, 18, 53, 51, 1, 36, 71, 34, 69, 19, 17, 52, 2]

# <-- CODEGEN -->
p0_lst = ", ".join(f"input_list[{p}]" for p in reversed(perm[0]))
p1_lst = ", ".join(f"input_list[{p}]" for p in reversed(perm[1]))
p2_lst = ", ".join(f"input_list[{p}]" for p in reversed(perm[2]))

fp0_lst = ", ".join(f"input_list[{p}]" for p in reversed(fp[0]))
fp1_lst = ", ".join(f"input_list[{p}]" for p in reversed(fp[1]))
fp2_lst = ", ".join(f"input_list[{p}]" for p in reversed(fp[2]))

print(f"""
    assign mux_sel[0] = {{{fp0_lst + ", " + p0_lst}}};
    assign mux_sel[1] = {{{fp1_lst + f", {32 * (257 - len(perm[1]) - len(fp[1]))}'b0, " + p1_lst}}};
    assign mux_sel[2] = {{{fp2_lst + f", {32 * (257 - len(perm[2]) - len(fp[2]))}'b0, " + p2_lst}}};
""")
# <-- END CODEGEN -->

import numpy as np
N = 257
lst = []

for perm_select in range(3):
    list_in = np.arange(N, dtype=np.uint32)

    result = [list_in[p] for p in perm[perm_select]]
    result += [0] * (257 - len(perm[perm_select]) - len(fp[perm_select]))
    result += [list_in[p] for p in fp[perm_select]]

    lst.append((list_in, perm_select, result))


for list_in, perm_select, result in lst:
    print("#`CLK_PERIOD;")
    print("input_list = {", ", ".join(f"32'd{a}" for a in reversed(list_in)), "};", sep="")
    print(f"perm_select = 2'd{perm_select};")
    print("expected = {", ", ".join(f"32'd{a}" for a in reversed(result)), "};", sep="")
    print("#`CLK_PERIOD;")
    print("result_ok = (expected == result);")
    print("$display(\"result_ok = %x\", result_ok);\n")